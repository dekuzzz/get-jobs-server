<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="utf-8">
	<title>首页</title>
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="order by mobanxiu.cn" />
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="../../layui/css/layui.css">
	<link href="../../css/swiper.css" rel="stylesheet">
	<link rel="stylesheet" href="../../xznstatic/css/common.css"/>
	<link rel="stylesheet" href="../../xznstatic/css/style.css"/>
	<script src="../../xznstatic/js/jquery-1.11.3.min.js"></script>
	<script src="../../xznstatic/js/jquery.SuperSlide.2.1.1.js"></script>
</head>

<style>
	/* 基础样式 */
	html, body {
		margin: 0;
		padding: 0;
		background-color: #f5f5f5;
	}

	#app {
		max-width: 1200px;
		margin: 0 auto;
		padding: 20px;
	}

	/* 轮播图样式 */
	.banner-container {
		width: 100%;
		margin: 0 auto;
		margin-bottom: 40px;
	}

	#test1 {
		margin: 0 auto;
	}

	#test1 .layui-carousel-ind li {
		width: 16px;
		height: 10px;
		border-radius: 10px;
		background-color: #ffffff;
		opacity: 0.5;
	}

	#test1 .layui-carousel-ind li.layui-this {
		width: 24px;
		background-color: #ffffff;
		opacity: 1;
	}

	.layui-carousel-item img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}

	/* 内容区域样式 */
	.content-section {
		margin-top: 40px;
	}

	/* 标题样式 */
	.section-title {
		text-align: center;
		font-size: 28px;
		font-weight: bold;
		margin-bottom: 30px;
		color: #333;
	}

	/* 卡片网格布局 */
	.card-grid {
		display: grid;
		grid-template-columns: repeat(5, 1fr);
		gap: 20px;
		padding: 0 10px;
	}

	/* 卡片样式 */
	.card {
		background: #fff;
		border-radius: 12px;
		overflow: hidden;
		box-shadow: 0 2px 10px rgba(0,0,0,0.1);
		transition: all 0.3s ease;
		cursor: pointer;
	}

	.card:hover {
		transform: translateY(-5px);
		box-shadow: 0 5px 15px rgba(0,0,0,0.2);
	}

	.card-image {
		width: 100%;
		aspect-ratio: 1;
		object-fit: cover;
	}

	.card-content {
		padding: 15px;
	}

	.card-title {
		font-size: 14px;
		color: #333;
		margin: 0;
		line-height: 1.4;
		overflow: hidden;
		text-overflow: ellipsis;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
	}

	/* 响应式布局 */
	@media screen and (max-width: 1200px) {
		.card-grid {
			grid-template-columns: repeat(4, 1fr);
		}
	}

	@media screen and (max-width: 992px) {
		.card-grid {
			grid-template-columns: repeat(3, 1fr);
		}
	}

	@media screen and (max-width: 768px) {
		.card-grid {
			grid-template-columns: repeat(2, 1fr);
		}
	}

	@media screen and (max-width: 576px) {
		.card-grid {
			grid-template-columns: 1fr;
		}
	}
</style>

<body>
<div id="app">
	<!-- 轮播图部分 -->
	<div class="banner-container">
		<div class="layui-carousel" id="test1">
			<div carousel-item>
				<div v-for="(item,index) in swiperList" :key="index">
					<img style="width: 100%;height: 100%;object-fit: cover;" :src="item.img" />
				</div>
			</div>
		</div>
	</div>

	<!-- 招聘信息部分 -->
	<div class="content-section">
		<h2 class="section-title">招聘信息</h2>
		<div class="card-grid">
			<div v-for="(item,index) in zhaopinxinxiList"
				 :key="index"
				 class="card"
				 @click="jump('../zhaopinxinxi/detail.html?id='+item.id)">
				<img class="card-image" :src="item.tupian ? item.tupian.split(',')[0] : ''" alt="">
				<div class="card-content">
					<h3 class="card-title">{{item.zhaopingangwei}}</h3>
				</div>
			</div>
		</div>
	</div>

	<!-- 求职信息部分 -->
	<div class="content-section">
		<h2 class="section-title">求职信息</h2>
		<div class="card-grid">
			<div v-for="(item,index) in qiuzhixinxiList"
				 :key="index"
				 class="card"
				 @click="jump('../qiuzhixinxi/detail.html?id='+item.id)">
				<img class="card-image" :src="item.touxiang ? item.touxiang.split(',')[0] : ''" alt="">
				<div class="card-content">
					<h3 class="card-title">{{item.yonghuming}}</h3>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="../../layui/layui.js"></script>
<script src="../../js/vue.js"></script>
<script src="../../js/config.js"></script>
<script src="../../modules/config.js"></script>
<script src="../../js/utils.js"></script>

<script>
	var vue = new Vue({
		el: '#app',
		data: {
			swiperList: [],
			zhaopinxinxiList: [],
			qiuzhixinxiList: []
		},
		methods: {
			jump(url) {
				jump(url)
			}
		}
	});

	layui.use(['layer', 'form', 'element', 'carousel', 'http', 'jquery'], function() {
		var layer = layui.layer;
		var element = layui.element;
		var form = layui.form;
		var carousel = layui.carousel;
		var http = layui.http;
		var jquery = layui.jquery;

		// 轮播图配置
		carousel.render({
			elem: '#test1',
			width: '100%',
			height: '400px',
			arrow: 'hover',
			anim: 'default',
			autoplay: true,
			interval: 5000,
			indicator: 'inside'
		});

		// 获取轮播图数据
		http.request('config/list', 'get', {
			page: 1,
			limit: 5
		}, function(res) {
			if (res.data.list.length > 0) {
				let swiperList = [];
				res.data.list.forEach(element => {
					if (element.value != null) {
						swiperList.push({
							img: element.value
						});
					}
				});
				vue.swiperList = swiperList;

				// 数据加载完成后重新初始化轮播图
				vue.$nextTick(() => {
					carousel.render({
						elem: '#test1',
						width: '100%',
						height: '400px',
						arrow: 'hover',
						anim: 'default',
						autoplay: true,
						interval: 5000,
						indicator: 'inside'
					});
				});
			}
		});

		// 获取招聘信息
		http.request(`zhaopinxinxi/list`, 'get', {
			page: 1,
			limit: 5
		}, function(res) {
			vue.zhaopinxinxiList = res.data.list;
		});

		// 获取求职信息
		http.request(`qiuzhixinxi/list`, 'get', {
			page: 1,
			limit: 5
		}, function(res) {
			vue.qiuzhixinxiList = res.data.list;
		});
	});
</script>
</body>
</html>